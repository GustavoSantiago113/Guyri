<html>
    <head>
        <title>
            Guyri - Biodigester
        </title>
        <link rel="icon" href="Logotipo 2.png">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="functions.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <header class="header">
        <img class="logo_header" src="Icones/Logotipo 2.png">
        <div class="title_header">
            <h1 style="background-color: #b5e8c3; font-size: 30px;">ARA</h1>
            <h3 style="background-color: #b5e8c3; font-size: larger;">BIOSYSTEMS</h3>
        </div>
        <a class="return_initial" href="initial_page.html">Home</a>
    </header>
    <body>
    <div class="body_sizing">   
        <div class="main_lateral_dropdown">

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/irrigation.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Gotejamento.html">Dripping</a>
                    <a class="link" href="Aspersao.html">Sprinkling</a>
                    <a class="link" href="Micro_Aspersao.html">Micro-Sprinkling</a>
                    <a class="link" href="Pivo_Central.html">Center Pivot</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/solar-energy.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Aquecimento_Solar.html">Solar Heating</a>
                    <a class="link" href="Fotovoltaica.html">Photovoltaic</a>
                    <a class="link" href="Eolica.html">Wind</a>
                    <a class="link" href="Hidroeletrica.html">Hydroelectric</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/bacteria.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Biodigestor.html">Biodigester</a>
                    <a class="link" href="Compostagem.html">Composting</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/greenhouse.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Ventilacao_Forcada.html">Forced Ventilation</a>
                    <a class="link" href="Ar_Condicionado.html">Air Conditioning</a>
                    <a class="link" href="Nebulizacao.html">Fogging</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/dollar-currency-symbol.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Analise_Economica.html">Economic analysis</a>
                </div>
            </div>

        </div>

        <div class="main_section">

            <div class="calculator">

                <ul class="nav">
                    <button class="nav_link active" id="an_bt" onclick="openTab(event, 'an')">Animals</button>
                </ul>

                <div class="tab_content">
                    <div class="tab_pane" id="an">
                        <h5 style="background-color: #65b8a6;">Select the number of animals:</h5>
                        <br><input type="radio" name="animal" id="Bovino"><span>Cattle</span>
                        <br><input type="radio" name="animal" id="Suino"><span>Swine</span>
                        <br><input class="input" placeholder="Number of animals" type="number" step="0.0001" id="Na">
                    </div>
                </div>

            </div>

            <button class="result" onclick="DimensionarBiodigestor('minhaDiv');">
                Size!
            </button>

            <div class="boxresults" id="minhaDiv" style="display: none;">
                <center><div class="titresp">Results</div></center>
                <div class="respostas">Add liters of water per day: <span id="La"></span></div>
                <div class="respostas">Bottom Base (m): <span id="Bi"></span></div>
                <div class="respostas">Upper base (m): <span id="Bs"></span></div>
                <div class="respostas">Height (m): <span id="H"></span></div>
                <div class="respostas">Length (m): <span id="L"></span></div>
                <div class="respostas">Production estimate (m3/day): <span id="Ep"></span></div>
                <div class="respostas">Canvas Area (m2): <span id="Alona"></span></div>
                <div class="respostas">Input box width and length (m): <span id="Ce"></span></div>
                <div class="respostas">Input and output box height: 1 m</div>
                <div class="respostas">Outlet box width and length (m): <span id="Cs"></span></div>
            </div>

        </div>

        <div>

        </div>
    </div>
    
    </body>
    <script>
        function DimensionarBiodigestor(el){
            document.getElementById(el).style.display = "block";

            var Na = parseFloat(document.getElementById('Na').value);

            if (document.getElementById("Bovino").checked)
            {
                var estercodia = 25; //Em kg
                var agua = 1; //Em litros
                var densidade = 960; //kg/m3
                var tempo = 30; //dias
                var conversao = 0.04; //kg/m3
            }
            else if(document.getElementById("Suino").checked)
            {
                var estercodia = 5.8; //Em kg
                var agua = 2; //Em litros
                var tempo = 35; //dias
                var densidade = 1010; //kg/m3
                var conversao = 0.35; //kg/m3
            }

            var massaesterco = Na * estercodia //total de kg de esterco por dia
            var litrosagua = agua * massaesterco; //litros de água por dia
            document.getElementById('La').innerHTML = litrosagua.toFixed(3);
            var volumediario = (litrosagua / 1000) + ( massaesterco / densidade ); //volume diário de esterco em m3
            var volumecaixa = volumediario * tempo; //volume total da caixa em m3
            if(volumecaixa < 500)
            {
                var H = 2.5;
            }
            else if(volumecaixa >= 500)
            {
                var H = 3.5;
            }

            document.getElementById('H').innerHTML = H.toFixed(3);
            var a = 5*H;
            var b = 5.46 * Math.pow(H,2);
            var c = 1.325*Math.pow(H,3) - volumecaixa;
            var delta = b * b - 4 * a * c;
            const x1 = (-b + Math.sqrt(delta)) / (2 * a);
            const x2 = (-b - Math.sqrt(delta)) / (2 * a);
            if(x1 > 0)
            {
                Bi = x1;
            }
            document.getElementById('Bi').innerHTML = Bi.toFixed(3);
            var Bs = 0.7279 * H + Bi;
            document.getElementById('Bs').innerHTML = Bs.toFixed(3);
            var L = 3.6395 * H + 5*Bi;
            document.getElementById('L').innerHTML = L.toFixed(3);

            var Ep = massaesterco * conversao;
            document.getElementById('Ep').innerHTML = Ep.toFixed(3);

            var At = Ep / L;
            var a1 = 120;
            var b1 = -Bi;
            var c1 = (Bi*2)-(2*At);
            var delta1 = b1 * b1 - 4 * a1 * c1;
            const x11 = (-b1 + Math.sqrt(delta1)) / (2 * a1);
            const x21 = (-b1 - Math.sqrt(delta1)) / (2 * a1);
            if(x11 > 0)
            {
                R = x11;
            }
            else if(x21 > 0)
            {
                R = x21;
            }
            var Alona = 2 * Math.PI * R * 0.333 * L;
            document.getElementById('Alona').innerHTML = Alona.toFixed(3);

            var Ce = Math.sqrt((volumediario*1.2),2);
            document.getElementById('Ce').innerHTML = Ce.toFixed(3);

            var Cs = Math.sqrt((volumediario*1.2*3),2);
            document.getElementById('Cs').innerHTML = Cs.toFixed(3);

        }
    </script>
</html>