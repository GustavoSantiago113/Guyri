<html>
    <head>
        <title>
            Guyri - Aquecimento Solar
        </title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="functions.js"></script>
    </head>
    <header class="header">
        <img class="logo_header" src="Icones/Logotipo 2.png">
        <div class="title_header">
            <h1 style="background-color: #b5e8c3; font-size: 30px;">ARA</h1>
            <h3 style="background-color: #b5e8c3; font-size: larger;">BIOSSISTEMAS</h3>
        </div>
        <a class="return_initial" href="initial_page.html">Home</a>
    </header>
    <body>
    <div class="body_sizing">   
        <div class="main_lateral_dropdown">

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/irrigation.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Gotejamento.html">Gotejamento</a>
                    <a class="link" href="Aspersao.html">Aspersão</a>
                    <a class="link" href="Micro_Aspersao.html">Micro-Aspersão</a>
                    <a class="link" href="Pivo_Central.html">Pivô Central</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/solar-energy.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Aquecimento_Solar.html">Aquecimento Solar</a>
                    <a class="link" href="Fotovoltaica.html">Fotovoltaica</a>
                    <a class="link" href="Eolica.html">Eólica</a>
                    <a class="link" href="Hidroeletrica.html">Hidroelétrica</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/bacteria.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Biodigestor.html">Biodigestor</a>
                    <a class="link" href="Compostagem.html">Compostagem</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/greenhouse.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Ventilacao_Forcada.html">Ventilação Forçada</a>
                    <a class="link" href="Ar_Condicionado.html">Ar Condicionado</a>
                    <a class="link" href="Nebulizacao.html">Nebulização</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn" href="Analise_Economica.html">
                    <img class="icon" src="Icones/dollar-currency-symbol.png">
                </button>
            </div>

        </div>
        <div class="main_section">
            <div class="calculator">

                <ul class="nav">
                    <button class="nav_link active" id="cult_bt" onclick="openTab(event, 'cult')">Cultura e Área</button>
                    <button class="nav_link" id="asp_bt" onclick="openTab(event, 'asp')">Aspersores</button>
                    <button class="nav_link" id="mat_bt" onclick="openTab(event, 'mat')">Materiais e Mão-de-Obra</button>
                </ul>

                <div class="tab_content">

                    <div class="tab_pane" id="cult">

                        <input class="input" type="number" step="0.0001" id="Eto" placeholder="Eto">
                        <br><input class="input" type="number" step="0.0001" id="Kc" placeholder="Kc">
                        <br><input class="input" type="number" step="0.0001" id="R" placeholder="Raio do pivô (m)">
                        <br><h5 style="background-color: #65b8a6;">Pivô em:</h5>
                        <br><input type="radio" name="linhap" id="Aclivep"><span>Aclive</span>
                        <input type="radio" name="linhap" id="Declivep"><span>Declive</span>
                        <input type="radio" name="linhap" id="Nivelp"><span>Nivel</span>
                        <input class="input" style="width:fit-content;" placeholder="Diferença de altura (m)" type="number" step="0.0001" id="Dhp">
                        <br><h5 style="background-color: #65b8a6;">Tubo da sucção ao Pivô em:</h5>
                        <br><input type="radio" name="linhas" id="Aclives"><span>Aclive</span>
                        <input type="radio" name="linhas" id="Declives"><span>Declive</span>
                        <input type="radio" name="linhas" id="Nivels"><span>Nivel</span>
                        <input class="input" style="width:fit-content;" placeholder="Diferença de altura (m)" type="number" step="0.0001" id="Dhs">
                        <br><input class="input" type="number" step="0.0001" id="Ls" placeholder="Comprimento do tubo de sucção ao pivô central (m)">

                    </div>

                    <div class="tab_pane" id="asp" style="display: none;">

                        <input class="input" type="number" step="0.0001" id="Pasp" placeholder="Pressão de serviço dos aspersores (mca)">
                        <br><input class="input" type="number" step="0.0001" id="Rasp" placeholder="Raio do aspersor (m)">
                        <br><input class="input" type="number" step="0.0001" id="Easp" placeholder="Distância entre aspersores (m)">
                        <br><input type="radio" name="tipo" id="canhao" onclick="AparecerCanhao();"><span>Canhão ao final?</span>
                        <div id="inputcanhao" style="display:none; background-color: #65b8a6;">
                            <br><input class="input" placeholder="Pressão de serviço (mca)" type="number" step="0.0001" id="Pcn">
                            <br><input class="input" placeholder="Vazão (m3/h)" type="number" step="0.0001" id="Qcn">       
                        </div>

                    </div>

                    <div class="tab_pane" id="mat" style="display: none;">

                        <input class="input" type="number" step="0.0001" id="to" placeholder="Tempo de funcionamento diário (h)">
                        <br><input class="input" type="number" step="0.0001" id="tv" placeholder="Tempo para dar uma volta (h)">
                        <br><input class="input" type="number" step="0.0001" id="vd" placeholder="Velocidade de deslocamento da ultima torre (m/h)">
                        <br><input class="input" type="number" step="0.0001" id="vd" placeholder="Coeficiente de Hazen-Williams do tubo do pivô">
                        <br><input class="input" type="number" step="0.0001" id="vd" placeholder="Coeficiente de Hazen-Williams do tubo de sucção">
                    </div>

                </div>

            </div>

            <button class="result" onclick="DimensionarPivo('minhaDiv');">
                Dimensionar!
            </button>

            <div class="boxresults" id="minhaDiv" style="display: none;">
                    <center><div class="titresp">Resultados</div></center>
                    <div class="respostas">Vazão Necessária (m3/h): <span id="Qf"></span></div>
                    <div class="respostas"><span id="Ia1R"></span></div>
                    <div class="respostas"><span id="Ia2R"></span></div>
                    <div class="respostas"><span id="Ia3R"></span></div>
                    <div class="respostas"><span id="Ia4R"></span></div>
                    <button class="generate_pdf"> Gerar PDF </button>
            </div>
        </div>
        <div>

        </div>
    </div>
    </body>
    <script>
        function AparecerCanhao(){

            if (document.getElementById("canhao").checked){
                document.getElementById("inputcanhao").style.display = "block";
            }

            else {
                document.getElementById("inputcanhao").style.display = "none";
            }
        }

        function DimensionarPivo(el){
            
            document.getElementById(el).style.display = "block";

            let Eto = parseFloat(document.getElementById('Eto').value);
            let Kc = parseFloat(document.getElementById('Kc').value);

            let Lam = Eto * Kc;

            let to = parseFloat(document.getElementById('to').value);
            let R = parseFloat(document.getElementById('R').value);
            let Rasp = parseFloat(document.getElementById('Rasp').value);

            let Area = Math.PI * (R + (Rasp/2)) ** 2;
            let Q = Lam / (Area * to);
            let Qcn = parseFloat(document.getElementById('Qcn').value);

            let Qf = Q + Qcn;
            document.getElementById('Qf').innerHTML = Qf.toFixed(3);

            let L1 = (Math.sqrt(Area*Math.PI)) / 2;
            let L2 = L1 * Math.sqrt(2) - L1;
            let L3 = (L1 + L2) * Math.sqrt(2) - (L1 + L2);
            let L4 = (L1 + L2 + L3) * Math.sqrt(2) - (L1 + L2 + L3);

            let Dasp = 2 * Rasp;
            let tv = parseFloat(document.getElementById('tv').value);
            
            let tr1 = (tv * Dasp) / 2 * Math.PI * L1;
            let tr2 = (tv * Dasp) / 2 * Math.PI * L2;
            let tr3 = (tv * Dasp) / 2 * Math.PI * L3;
            let tr4 = (tv * Dasp) / 2 * Math.PI * L4;

            Ia1 = Lam / tr1;
            Ia2 = Lam / tr2;
            Ia3 = Lam / tr3;
            Ia4 = Lam / tr4;

            const Resp = "A intensidade de aplicação (mm/h) dos ";
            const Resp2 = " aos ";
            const Resp3 = " metros é de ";

            let Ia1R = Resp + toString(L1.toFixed(3)) + Resp2 + toString(L2.toFixed(3)) + Resp3 + toString(Ia1.toFixed(3));
            let Ia2R = Resp + toString(L2.toFixed(3)) + Resp2 + toString(L3.toFixed(3)) + Resp3 + toString(Ia2.toFixed(3));
            let Ia3R = Resp + toString(L3.toFixed(3)) + Resp2 + toString(L4.toFixed(3)) + Resp3 + toString(Ia3.toFixed(3));
            let Ia4R = Resp + toString(L4.toFixed(3)) + Resp2 + toString(R.toFixed(3)) + Resp3 + toString(Ia4.toFixed(3));
            
            document.getElementById('Ia1R').innerHTML = Ia1R;
            document.getElementById('Ia2R').innerHTML = Ia2R;
            document.getElementById('Ia3R').innerHTML = Ia3R;
            document.getElementById('Ia4R').innerHTML = Ia4R;

            let Easp = parseFloat(document.getElementById('Easp').value);

            let NaspL1 = L1 / Easp;
            let NaspL2 = L2 / Easp;
            let NaspL3 = L3 / Easp;
            let NaspL4 = L4 / Easp;
        }
    </script>
</html>