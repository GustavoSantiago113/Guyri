<html>
    <head>
        <title>
            Guyri - Aquecimento Solar
        </title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="functions.js"></script>
    </head>
    <header class="header">
        <img class="logo_header" src="Icones/Logotipo 2.png">
        <div class="title_header">
            <h1 style="background-color: #b5e8c3; font-size: 30px;">ARA</h1>
            <h3 style="background-color: #b5e8c3; font-size: larger;">BIOSSISTEMAS</h3>
        </div>
        <a class="return_initial" href="initial_page.html">Home</a>
    </header>
    <body>
    <div class="body_sizing">   
        <div class="main_lateral_dropdown">

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/irrigation.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Gotejamento.html">Gotejamento</a>
                    <a class="link" href="Aspersao.html">Aspersão</a>
                    <a class="link" href="Micro_Aspersao.html">Micro-Aspersão</a>
                    <a class="link" href="Pivo_Central.html">Pivô Central</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/solar-energy.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Aquecimento_Solar.html">Aquecimento Solar</a>
                    <a class="link" href="Fotovoltaica.html">Fotovoltaica</a>
                    <a class="link" href="Eolica.html">Eólica</a>
                    <a class="link" href="Hidroeletrica.html">Hidroelétrica</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/bacteria.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Biodigestor.html">Biodigestor</a>
                    <a class="link" href="Compostagem.html">Compostagem</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn">
                    <img class="icon" src="Icones/greenhouse.png">
                </button>
                <div class="lateral_dropdown-content">
                    <a class="link" href="Ventilacao_Forcada.html">Ventilação Forçada</a>
                    <a class="link" href="Ar_Condicionado.html">Ar Condicionado</a>
                    <a class="link" href="Nebulizacao.html">Nebulização</a>
                </div>
            </div>

            <div class="lateral_dropdown">
                <button class="lateral_dropbtn" href="Analise_Economica.html">
                    <img class="icon" src="Icones/dollar-currency-symbol.png">
                </button>
            </div>

        </div>
        <div class="main_section">
            <div class="calculator">

                <ul class="nav">
                    <button class="nav_link active" id="cult_bt" onclick="openTab(event, 'cult')">Cultura e Área</button>
                    <button class="nav_link" id="asp_bt" onclick="openTab(event, 'asp')">Aspersores</button>
                    <button class="nav_link" id="mat_bt" onclick="openTab(event, 'mat')">Materiais e Mão-de-Obra</button>
                </ul>

                <div class="tab_content">

                    <div class="tab_pane" id="cult">

                        <input class="input" type="number" step="0.0001" id="Eto" placeholder="Eto">
                        <br><input class="input" type="number" step="0.0001" id="Kc" placeholder="Kc">
                        <br><input class="input" type="number" step="0.0001" id="R" placeholder="Raio do pivô (m)">
                        <br><h5 style="background-color: #65b8a6;">Pivô em:</h5>
                        <br><input type="radio" name="linhap" id="Aclivep"><span>Aclive</span>
                        <input type="radio" name="linhap" id="Declivep"><span>Declive</span>
                        <input type="radio" name="linhap" id="Nivelp"><span>Nivel</span>
                        <input class="input" style="width:fit-content;" placeholder="Diferença de altura (m)" type="number" step="0.0001" id="Dhp">
                        <br><h5 style="background-color: #65b8a6;">Tubo da sucção ao Pivô em:</h5>
                        <br><input type="radio" name="linhas" id="Aclives"><span>Aclive</span>
                        <input type="radio" name="linhas" id="Declives"><span>Declive</span>
                        <input type="radio" name="linhas" id="Nivels"><span>Nivel</span>
                        <input class="input" style="width:fit-content;" placeholder="Diferença de altura (m)" type="number" step="0.0001" id="Dhs">
                        <br><input class="input" type="number" step="0.0001" id="Ls" placeholder="Comprimento do tubo de sucção ao pivô central (m)">

                    </div>

                    <div class="tab_pane" id="asp" style="display: none;">

                        <input class="input" type="number" step="0.0001" id="Pasp" placeholder="Pressão de serviço dos aspersores (mca)">
                        <br><input class="input" type="number" step="0.0001" id="Rasp" placeholder="Raio do aspersor (m)">
                        <br><input class="input" type="number" step="0.0001" id="Easp" placeholder="Distância entre aspersores (m)">
                        <br><input type="radio" name="tipo" id="canhao" onclick="AparecerCanhao();"><span>Canhão ao final?</span>
                        <div id="inputcanhao" style="display:none; background-color: #65b8a6;">
                            <br><input class="input" placeholder="Pressão de serviço (mca)" type="number" step="0.0001" id="Pcn">
                            <br><input class="input" placeholder="Vazão (m3/h)" type="number" step="0.0001" id="Qcn">       
                        </div>

                    </div>

                    <div class="tab_pane" id="mat" style="display: none;">

                        <input class="input" type="number" step="0.0001" id="to" placeholder="Tempo de funcionamento diário (h)">
                        <br><input class="input" type="number" step="0.0001" id="tv" placeholder="Tempo para dar uma volta (h)">
                        <br><input class="input" type="number" step="0.0001" id="vd" placeholder="Velocidade de deslocamento da ultima torre (m/h)">
                        <br><input class="input" type="number" step="0.0001" id="Cp" placeholder="Coeficiente de Hazen-Williams do tubo do pivô">
                        <br><input class="input" type="number" step="0.0001" id="Cs" placeholder="Coeficiente de Hazen-Williams do tubo de sucção">
                        <br><input class="input" type="number" step="0.0001" id="VE" placeholder="Velocidade de escoamento na linha de sucção">
                        <br><input class="input" type="number" step="0.0001" id="n" placeholder="Rendimento da motobomba (decimal)">
                    </div>

                </div>

            </div>

            <button class="result" onclick="DimensionarPivo('minhaDiv');">
                Dimensionar!
            </button>

            <span style="background-color: #f0f7da;" id="warn"></span>

            <div class="boxresults" id="minhaDiv" style="display: none;">
                    <center><div class="titresp">Resultados</div></center>
                    <div class="respostas">Vazão Necessária (m3/h): <span id="Qf"></span></div>
                    <div class="respostas"><span id="Ia1R"></span></div>
                    <div class="respostas"><span id="Ia2R"></span></div>
                    <div class="respostas"><span id="Ia3R"></span></div>
                    <div class="respostas"><span id="Ia4R"></span></div>
                    <div class="respostas"><span id="Qa1R"></span></div>
                    <div class="respostas"><span id="Qa2R"></span></div>
                    <div class="respostas"><span id="Qa3R"></span></div>
                    <div class="respostas"><span id="Qa4R"></span></div>
                    <div class="respostas"><span id="D1"></span></div>
                    <div class="respostas"><span id="D2"></span></div>
                    <div class="respostas"><span id="D3"></span></div>
                    <div class="respostas"><span id="D4"></span></div>
                    <div class="respostas">Diâmetro da linha de sucção (m) <span id="Ds"></span></div>
                    <div class="respostas">Altura manométrica (mca) <span id="HMT"></span></div>
                    <div class="respostas">Potência da motobomba (cv) <span id="Pot"></span></div>
                    <button class="generate_pdf"> Gerar PDF </button>
            </div>
        </div>
        <div>

        </div>
    </div>
    </body>
    <script>
        function AparecerCanhao(){

            if (document.getElementById("canhao").checked){
                document.getElementById("inputcanhao").style.display = "block";
            }

            else {
                document.getElementById("inputcanhao").style.display = "none";
            }
        }

        function DimensionarPivo(el){
            
            document.getElementById(el).style.display = "block";

            var Eto = parseFloat(document.getElementById('Eto').value);
            var Kc = parseFloat(document.getElementById('Kc').value);

            var Lam = Eto * Kc;

            var to = parseFloat(document.getElementById('to').value);
            var R = parseFloat(document.getElementById('R').value);
            var Rasp = parseFloat(document.getElementById('Rasp').value);

            var Area = Math.PI * Math.pow((R + (Rasp/2)), 2);
            var Q = (Lam * 1000 *  Area ) / to;
            var Qcn = parseFloat(document.getElementById('Qcn').value);

            var Qf = Q;
            if(document.getElementById("canhao").checked){
                Qf = Q + Qcn;
            }
            document.getElementById('Qf').innerHTML = Qf.toFixed(3);

            var L1 = (Math.sqrt(Area*Math.PI)) / 2;
            var L2 = L1 * Math.sqrt(2) - L1;
            var L3 = (L1 + L2) * Math.sqrt(2) - (L1 + L2);
            var L4 = (L1 + L2 + L3) * Math.sqrt(2) - (L1 + L2 + L3);

            var Dasp = 2 * Rasp;
            var tv = parseFloat(document.getElementById('tv').value);
            
            var tr1 = (tv * Dasp) / 2 * Math.PI * L1;
            var tr2 = (tv * Dasp) / 2 * Math.PI * L2;
            var tr3 = (tv * Dasp) / 2 * Math.PI * L3;
            var tr4 = (tv * Dasp) / 2 * Math.PI * L4;

            Ia1 = Lam / tr1;
            Ia2 = Lam / tr2;
            Ia3 = Lam / tr3;
            Ia4 = Lam / tr4;

            const Resp = "A intensidade de aplicação (mm/h) dos ";
            const Resp2 = " aos ";
            const Resp3 = " metros é de ";

            var Ia1R = Resp + L1.toFixed(3).toString() + Resp2 + L2.toFixed(3).toString() + Resp3 + Ia1.toFixed(3).toString();
            var Ia2R = Resp + L2.toFixed(3).toString() + Resp2 + L3.toFixed(3).toString() + Resp3 + Ia2.toFixed(3).toString();
            var Ia3R = Resp + L3.toFixed(3).toString() + Resp2 + L4.toFixed(3).toString() + Resp3 + Ia3.toFixed(3).toString();
            var Ia4R = Resp + L4.toFixed(3).toString() + Resp2 + R.toFixed(3).toString() + Resp3 + Ia4.toFixed(3).toString();

            document.getElementById('Ia1R').innerHTML = Ia1R;
            document.getElementById('Ia2R').innerHTML = Ia2R;
            document.getElementById('Ia3R').innerHTML = Ia3R;
            document.getElementById('Ia4R').innerHTML = Ia4R;

            var Easp = parseFloat(document.getElementById('Easp').value);

            var NaspL1 = L1 / Easp;
            var NaspL2 = L2 / Easp;
            var NaspL3 = L3 / Easp;
            var NaspL4 = L4 / Easp;

            var Qasp1 = (Q / 4) / NaspL1;
            var Qasp2 = (Q / 4) / NaspL2;
            var Qasp3 = (Q / 4) / NaspL3;
            var Qasp4 = (Q / 4) / NaspL4;

            const Resp4 = "A vazão dos aspersores (m3/h) dos ";
            var Qa1R = Resp4 + L1.toFixed(3).toString() + Resp2 + L2.toFixed(3).toString() + Resp3 + Qasp1.toFixed(3).toString();
            var Qa2R = Resp4 + L2.toFixed(3).toString() + Resp2 + L3.toFixed(3).toString() + Resp3 + Qasp2.toFixed(3).toString();
            var Qa3R = Resp4 + L3.toFixed(3).toString() + Resp2 + L4.toFixed(3).toString() + Resp3 + Qasp3.toFixed(3).toString();
            var Qa4R = Resp4 + L4.toFixed(3).toString() + Resp2 + R.toFixed(3).toString() + Resp3 + Qasp4.toFixed(3).toString();

            document.getElementById('Qa1R').innerHTML = Qa1R;
            document.getElementById('Qa2R').innerHTML = Qa2R;
            document.getElementById('Qa3R').innerHTML = Qa3R;
            document.getElementById('Qa4R').innerHTML = Qa4R;

            var PS = parseFloat(document.getElementById('Pasp').value);
            var DZl = parseFloat(document.getElementById('Dhp').value);

            var hfl;
            var Pinl;
            var Pfl;

            if (document.getElementById("Nivelp").checked)
            {
                hfl = 0.3*PS;
                Pinl = PS + ((3*hfl)/4);
                Pfl = PS - (hfl / 4);
            }
            else if (document.getElementById("Aclivep").checked)
            {
                hfl = 0.3*PS - DZl;
                if (Math.sign(hfl) == -1 || Math.sign(hfl) == 0)
                {
                    hfl = DZl;
                }   
                Pinl = PS + ((3*hfl)/4)+ 0.5*DZl;
                Pfl = PS - (hfl / 4) - Dzl / 2;
            }
            else if (document.getElementById("Declivep").checked)
            {
                hfl = 0.3*PS + DZl;
                Pinl = PS + ((3*hfl)/4) - 0.5*DZl;
                Pfl = PS - (hfl / 4) + Dzl / 2;
            }

            var Pcn = parseFloat(document.getElementById('Pcn').value);
            var messageCanhao = "Não foi possível atingir a pressão de serviço do canhão, redimensionar";
            if(Pfl < Pcn){
                document.getElementById('warn').innerHTML = messageCanhao;
            }

            var F1 = (1/(2.852))+(1/(2*parseInt(NaspL1)))+(Math.sqrt(0.852)/(6*Math.pow(parseInt(NaspL1),2)));
            var F2 = (1/(2.852))+(1/(2*parseInt(NaspL2)))+(Math.sqrt(0.852)/(6*Math.pow(parseInt(NaspL2),2)));
            var F3 = (1/(2.852))+(1/(2*parseInt(NaspL3)))+(Math.sqrt(0.852)/(6*Math.pow(parseInt(NaspL3),2)));
            var F4 = (1/(2.852))+(1/(2*parseInt(NaspL4)))+(Math.sqrt(0.852)/(6*Math.pow(parseInt(NaspL4),2)));

            var Cp = parseFloat(document.getElementById('Cp').value);
            
            var Dt1 = Math.pow((10.643 * Math.pow((((Qf/4)/3600) / Cp),1.852) * (L1 / hfl) * F1), 0.205);
            var Dt2 = Math.pow((10.643 * Math.pow((((Qf/4)/3600) / Cp),1.852) * (L2 / hfl) * F2), 0.205);
            var Dt3 = Math.pow((10.643 * Math.pow((((Qf/4)/3600) / Cp),1.852) * (L3 / hfl) * F3), 0.205);
            var Dt4 = Math.pow((10.643 * Math.pow((((Qf/4)/3600) / Cp),1.852) * (L4 / hfl) * F4), 0.205);

            const Resp5 = "O diametro dos tubos (m) dos ";
            var D1 = Resp5 + L1.toFixed(3).toString() + Resp2 + L2.toFixed(3).toString() + Resp3 + Dt1.toFixed(4).toString();
            var D2 = Resp5 + L2.toFixed(3).toString() + Resp2 + L3.toFixed(3).toString() + Resp3 + Dt2.toFixed(4).toString();
            var D3 = Resp5 + L3.toFixed(3).toString() + Resp2 + L4.toFixed(3).toString() + Resp3 + Dt3.toFixed(4).toString();
            var D4 = Resp5 + L4.toFixed(3).toString() + Resp2 + R.toFixed(3).toString() + Resp3 + Dt4.toFixed(4).toString();

            document.getElementById('D1').innerHTML = D1;
            document.getElementById('D2').innerHTML = D2;
            document.getElementById('D3').innerHTML = D3;
            document.getElementById('D4').innerHTML = D4;

            var Ls = parseFloat(document.getElementById('Ls').value);
            var VE = parseFloat(document.getElementById('VE').value);
            var Ds = Math.sqrt(((4*(Qf/3600))/(Math.PI*VE)));
            document.getElementById('Ds').innerHTML = Ds.toFixed(4);
            var Cs = parseFloat(document.getElementById('Cs').value);
            var hs = 10.643 * Math.pow(((3*(Qf/3600))/Cs),1.852)*Math.pow(Ds,-4.87)*Ls;

            var Dhs = parseFloat(document.getElementById('Dhs').value);
            if (document.getElementById("Declives").checked)
            {
                Dhs = -Dhs;
            }
            var HMT = (Dhs + hs + hfl + Pinl + DZl + Pcn) * 1.05;
            var n = parseFloat(document.getElementById('n').value);
            var Pot = ( ( Qf / HMT) / ( 75 * n) ) * 1.1;
            document.getElementById('HMT').innerHTML = HMT.toFixed(3);
            document.getElementById('Pot').innerHTML = Pot.toFixed(3);
        }
    </script>
</html>